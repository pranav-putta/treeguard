(this.webpackJsonptreeguard=this.webpackJsonptreeguard||[]).push([[0],{29:function(e,t,n){e.exports=n.p+"static/media/logo.d564bd83.svg"},40:function(e,t,n){e.exports=n(65)},45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},63:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),i=n.n(r),l=(n(45),n(66)),d=(n(46),n(29)),s=n.n(d);n(47);var c=function(){var e=Object(l.c)();return setTimeout((function(){e.push("/home")}),2e3),o.a.createElement("div",{className:"Launch"},o.a.createElement("header",{className:"Launch-header"},o.a.createElement("img",{src:s.a,className:"Launch-logo",alt:"logo"}),o.a.createElement("p",{style:{fontFamily:"sans-serif",fontSize:36,fontWeight:"bold"}},"Welcome to Tree Guard"),o.a.createElement("p",null,o.a.createElement("code",null,"getting things set up..."))))},m=n(10),u=n(14),p=n.n(u),g=n(30),h=n(31),f=n(37),b=n(36),y=n(17),v=n(24),E=n(38),x=n(25),w=n.n(x),k=(n(63),n(64),n(18));function T(e,t){var n=Math.abs(e.meta.loc.latitude-t.meta.loc.latitude),a=Math.abs(e.meta.loc.longitude-t.meta.loc.longitude);return Math.sqrt(Math.pow(n,2)+Math.pow(a,2))}function C(){var e=Object(y.a)(["\n    animation: "," ","s cubic-bezier(0.455, 0.03, 0.515, 0.955) -0.4s\n      infinite;\n    background-color: var(--marker, ",");\n    border-radius: 50%;\n    box-sizing: border-box;\n    height: ","px;\n    width: ","px;\n    cursor: grab;\n  "]);return C=function(){return e},e}function I(){var e=Object(y.a)(["\n    animation: "," ","s cubic-bezier(0.215, 0.61, 0.355, 1)\n      infinite;\n    background-color: var(--marker, ",');\n    border-radius: 60px;\n    content: "";\n    display: block;\n    height: 300%;\n    left: -100%;\n    position: relative;\n    top: -100%;\n    width: 300%;\n  ']);return I=function(){return e},e}function R(){var e=Object(y.a)([" 0% {\n  transform: scale(0.5);\n}\n80%,\n100% {\n  opacity: 0;\n}"]);return R=function(){return e},e}function N(){var e=Object(y.a)(["\n  0%,\n  100% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.1);\n  }\n"]);return N=function(){return e},e}var W={address:"Broxton Rocks, Georgia",lat:31.73909,lng:-82.85999},O={apiKey:"AIzaSyDmRVqrP68RNSXyjopUz7od5HlGJ4vRLXM",authDomain:"treewatch-f6df4.firebaseapp.com",databaseURL:"https://treewatch-f6df4.firebaseio.com",projectId:"treewatch-f6df4",storageBucket:"treewatch-f6df4.appspot.com",messagingSenderId:"1087238844150",appId:"1:1087238844150:web:40fa1a8ffb6243dfc6c6d7",measurementId:"G-N2DG5BH91S"},L={light:"#ff8a80",dark:"#ff5252"},j={light:"#90caf9",dark:"#2196f3"},D={light:"#ffab91",dark:"#ff3d00"},M={light:"#69f0ae",dark:"#00c853"};function S(){return(S=Object(v.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.a.firestore(),e.abrupt("return",t.collection("node-data").get().then((function(e){return e.docs})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){var t="",n="";e.node.color?(t=e.node.color.light,n=e.node.color.dark):(t=j.light,n=j.dark);var a=Object(k.b)(N()),r=Object(k.b)(R()),i=2.5,l=1.5;e.node.color&&e.node.color!==j&&(i=1,l=.5);var d=20;e.node.color==L&&(d=40);var s=k.a.div(I(),r,i,t),c=k.a.div(C(),a,l,n,d,d);return o.a.createElement(c,{onClick:e.onPress},o.a.createElement(s,null))}function F(e){return{streetViewControl:!1,scaleControl:!1,fullscreenControl:!1,panControl:!1,draggable:!0,styles:[{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]}],gestureHandling:"greedy",disableDoubleClickZoom:!0,minZoom:11,maxZoom:18,draggableCursor:"default",draggingCursor:"default",mapTypeControl:!0,mapTypeId:e.MapTypeId.SATELLITE,mapTypeControlOptions:{style:e.MapTypeControlStyle.HORIZONTAL_BAR,position:e.ControlPosition.BOTTOM_CENTER,mapTypeIds:[]},zoomControl:!1,clickableIcons:!1}}var G=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(e){var a;return Object(g.a)(this,n),(a=t.call(this,e)).notifCard=function(e){return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"white",width:"50%",maxWidth:500,padding:20,borderRadius:7.5,position:"absolute",top:"5vh",left:"30%"}},o.a.createElement("h1",null,"Notification!",o.a.createElement("br",null)," New Node Data Available"),o.a.createElement("h2",{style:{marginTop:10}},e.meta.name),o.a.createElement("div",{style:{borderRadius:4,backgroundColor:"#e0e0e0",marginTop:5,padding:15}},o.a.createElement("h3",null,"Current Status:",o.a.createElement("span",{style:{fontWeight:"normal",position:"absolute",right:40}}," ","Receiving")),o.a.createElement("h3",{style:{marginTop:5}},"Latitude:"," ",o.a.createElement("span",{style:{fontWeight:"normal",position:"absolute",right:40}},e.meta.loc.latitude.toFixed(6))),o.a.createElement("h3",{style:{marginTop:5}},"Longitude:"," ",o.a.createElement("span",{style:{fontWeight:"normal",position:"absolute",right:40}},e.meta.loc.longitude.toFixed(6)))),o.a.createElement("div",{id:"data",style:{backgroundColor:"#0288d1",borderRadius:7.5,marginTop:15,padding:10}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{style:{width:40,height:40,marginTop:10},src:"https://cdn3.iconfinder.com/data/icons/tiny-weather-1/512/sun-512.png"}),o.a.createElement("p",{style:{paddingTop:10,paddingLeft:10,fontWeight:"bold"}},"Temperature"),o.a.createElement("div",{style:{marginTop:5,position:"absolute",right:30,backgroundColor:"#ff8a80",padding:5,paddingTop:7,paddingBottom:7,borderRadius:10}},o.a.createElement("p",{style:{color:"white",fontWeight:"bold"}},e.log[e.log.length-1].temp.toFixed(2),"\xb0C"))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{style:{width:40,height:40,marginTop:10},src:"https://cdn3.iconfinder.com/data/icons/tiny-weather-1/512/rain-512.png"}),o.a.createElement("p",{style:{paddingTop:10,paddingLeft:10,fontWeight:"bold"}},"Humidity"),o.a.createElement("div",{style:{marginTop:5,position:"absolute",right:30,backgroundColor:"#82b1ff",padding:5,paddingTop:7,paddingBottom:7,borderRadius:10}},o.a.createElement("p",{style:{color:"white",fontWeight:"bold"}}," ",e.log[e.log.length-1].humidity.toFixed(2),"%")))," ",o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{style:{width:40,height:40,marginTop:10},src:"https://cdn4.iconfinder.com/data/icons/the-weather-is-nice-today/64/weather_10-512.png"}),o.a.createElement("p",{style:{paddingTop:10,paddingLeft:10,fontWeight:"bold"}},"Air Quality (CO2)"),o.a.createElement("div",{style:{marginTop:5,position:"absolute",right:30,backgroundColor:"#69f0ae",padding:5,paddingTop:7,paddingBottom:7,borderRadius:10}},o.a.createElement("p",{style:{color:"white",fontWeight:"bold"}},e.log[e.log.length-1].co2.toFixed(2))))),o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:10,padding:15,backgroundColor:j.light,borderRadius:5},onClick:function(){a.setState({notification:void 0})}},o.a.createElement("h2",{style:{color:"white"}},"Close")))},a.card=function(){var e;return o.a.createElement("div",{style:{display:"flex",flexDirection:"column",backgroundColor:"white",width:"30%",maxWidth:300,padding:20,margin:20,borderRadius:7.5,position:"absolute",top:0,left:0}},o.a.createElement("h1",null,"Explore"),o.a.createElement("h2",{style:{marginTop:10}},a.state.nodes[a.state.selectedNodeIndex].meta.name),o.a.createElement("div",{style:{borderRadius:4,backgroundColor:"#e0e0e0",marginTop:5,padding:15}},o.a.createElement("h3",null,"Current Status:",o.a.createElement("span",{style:{fontWeight:"normal",position:"absolute",right:40}}," ","Receiving")),o.a.createElement("h3",{style:{marginTop:5}},"Latitude:"," ",o.a.createElement("span",{style:{fontWeight:"normal",position:"absolute",right:40}},null===(e=a.state.nodes[a.state.selectedNodeIndex])||void 0===e?void 0:e.meta.loc.latitude.toFixed(6))),o.a.createElement("h3",{style:{marginTop:5}},"Longitude:"," ",o.a.createElement("span",{style:{fontWeight:"normal",position:"absolute",right:40}},a.state.nodes[a.state.selectedNodeIndex].meta.loc.longitude.toFixed(6)))),o.a.createElement("div",{id:"data",style:{backgroundColor:"#0288d1",borderRadius:7.5,marginTop:15,padding:10}},o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{style:{width:40,height:40,marginTop:10},src:"https://cdn3.iconfinder.com/data/icons/tiny-weather-1/512/sun-512.png"}),o.a.createElement("p",{style:{paddingTop:10,paddingLeft:10,fontWeight:"bold"}},"Temperature"),o.a.createElement("div",{style:{marginTop:5,position:"absolute",right:30,backgroundColor:"#ff8a80",padding:5,paddingTop:7,paddingBottom:7,borderRadius:10}},o.a.createElement("p",{style:{color:"white",fontWeight:"bold"}},a.state.nodes[a.state.selectedNodeIndex].log[a.state.nodes[a.state.selectedNodeIndex].log.length-1].temp.toFixed(2),"\xb0C"))),o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{style:{width:40,height:40,marginTop:10},src:"https://cdn3.iconfinder.com/data/icons/tiny-weather-1/512/rain-512.png"}),o.a.createElement("p",{style:{paddingTop:10,paddingLeft:10,fontWeight:"bold"}},"Humidity"),o.a.createElement("div",{style:{marginTop:5,position:"absolute",right:30,backgroundColor:"#82b1ff",padding:5,paddingTop:7,paddingBottom:7,borderRadius:10}},o.a.createElement("p",{style:{color:"white",fontWeight:"bold"}}," ",a.state.nodes[a.state.selectedNodeIndex].log[a.state.nodes[a.state.selectedNodeIndex].log.length-1].humidity.toFixed(2),"%")))," ",o.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},o.a.createElement("img",{style:{width:40,height:40,marginTop:10},src:"https://cdn4.iconfinder.com/data/icons/the-weather-is-nice-today/64/weather_10-512.png"}),o.a.createElement("p",{style:{paddingTop:10,paddingLeft:10,fontWeight:"bold"}},"Air Quality (CO2)"),o.a.createElement("div",{style:{marginTop:5,position:"absolute",right:30,backgroundColor:"#69f0ae",padding:5,paddingTop:7,paddingBottom:7,borderRadius:10}},o.a.createElement("p",{style:{color:"white",fontWeight:"bold"}},a.state.nodes[a.state.selectedNodeIndex].log[a.state.nodes[a.state.selectedNodeIndex].log.length-1].co2.toFixed(2))))))},a.randInRange=function(e,t){return Math.random()*(t-e)+e},a.skewedRandInRange=function(e,t){return Math.pow(Math.random(),10)*(t-e)+e},a.simulate=function(){for(var e=[],t=0;t<25;t++){for(var n=a.randInRange(31.7,31.9),o=a.randInRange(-83,-82.7),r=[],i=0;i<a.randInRange(1,3);i++){var l=a.skewedRandInRange(30,200),d=a.randInRange(30,100),s=150*l;r.push({co2:s,humidity:d,temp:l,timestamp:Date.now(),status:1,collector_id:a.randInRange(1,3),sender_id:a.randInRange(1,25)})}var c=j;r[r.length-1].temp>60&&(c=L),e.push({meta:{loc:{latitude:n,longitude:o},name:"Node "+t},log:r,color:c})}a.setState({nodes:e})},a.createGraph=function(){return function(e,t){var n={},a=[];n[t[e].meta.name]=!0;var o={data:t[e],edges:[],index:e};for(a.push(o);a.length>0;){var r=a.shift();if(r)for(var i=0;i<t.length;i++){var l=t[i];if(!n[l.meta.name]&&T(r.data,l)<.1){var d={data:l,edges:[],index:i};r.edges.push(d),a.push(d),n[l.meta.name]=!0}}}return o}(a.state.selectedNodeIndex,a.state.nodes)},a.simulateGraphProp=Object(v.a)(p.a.mark((function e(){var t,n,o,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.createGraph(),(n=[]).push(t),o={},r=p.a.mark((function e(){var t,r,i,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.shift(),r=null===t||void 0===t?void 0:t.edges,i=a.state.nodes,l=0,null===r||void 0===r||r.forEach((function(e,t){o[e.data.meta.name]?i[e.index].color=D:(i[e.index].color=M,n.push(e),o[e.data.meta.name]=!0,l+=1)})),a.setState({nodes:i}),!(l>0)){e.next=9;break}return e.next=9,new Promise((function(e){return setTimeout(e,500)}));case 9:case"end":return e.stop()}}),e)}));case 5:if(!(n.length>0)){e.next=9;break}return e.delegateYield(r(),"t0",7);case 7:e.next=5;break;case 9:case"end":return e.stop()}}),e)}))),a.state={nodes:[],selectedNodeIndex:-1,prevColor:void 0,notification:void 0},a}return Object(h.a)(n,[{key:"renderSubscriptionOptions",value:function(e){return"serviceWorker"in navigator||"PushManager"in window?o.a.createElement("div",null,"Enable/Disable GNIB(IRP) Appointment Notifications"):o.a.createElement("p",null,"Notification feature is supported only in:",o.a.createElement("br",null),"Chrome Desktop and Mobile (version 50+)",o.a.createElement("br",null),"Firefox Desktop and Mobile (version 44+)",o.a.createElement("br",null),"Opera on Mobile (version 37+)")}},{key:"componentDidMount",value:function(){var e=this;w.a.initializeApp(O),function(){return S.apply(this,arguments)}().then((function(t){var n=[];t.forEach((function(e){n.push(e.data())})),e.setState({nodes:n})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"100vh"},className:"Home"},o.a.createElement(E.a,{bootstrapURLKeys:{key:"AIzaSyCJiHvsBg2dVQrVxyEmoNZayjH7m1orWGw"},defaultCenter:W,defaultZoom:10,options:F,onClick:function(e){}},this.state.nodes.map((function(t,n,a){return o.a.createElement(B,{lat:t.meta.loc.latitude,lng:t.meta.loc.longitude,name:t.meta.name,node:t,color:"#80d8ff",onPress:function(){var t=e.state.nodes,a=e.state.prevColor;-1!=e.state.selectedNodeIndex&&a&&(t[e.state.selectedNodeIndex].color=a),a=t[n].color?t[n].color:j,t[n].color=M,e.setState({nodes:t,selectedNodeIndex:n,prevColor:a})}})}))),o.a.createElement("div",{style:{padding:20,borderRadius:10,position:"absolute",bottom:30,left:30,backgroundColor:"#0091ea"},onClick:function(){e.simulate()}},o.a.createElement("h1",{style:{fontWeight:"bold",color:"white"}},"Simulate")),o.a.createElement("div",{style:{padding:20,borderRadius:10,position:"absolute",bottom:30,left:200,backgroundColor:"#0091ea"},onClick:function(){e.simulateGraphProp()}},o.a.createElement("h1",{style:{fontWeight:"bold",color:"white"}},"Propogate")),this.state.selectedNodeIndex>=0?this.card():void 0,this.state.notification?this.notifCard(this.state.notification):void 0)}}]),n}(o.a.Component);var A=function(){return o.a.createElement(l.b,{history:Object(m.a)()},o.a.createElement("div",null,o.a.createElement(l.a,{path:"/",exact:!0,component:c}),o.a.createElement(l.a,{path:"/home",component:G})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.73fa613b.chunk.js.map